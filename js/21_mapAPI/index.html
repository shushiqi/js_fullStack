<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
	body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	</style>
	<title>地图展示</title>
</head>
<body>
	<p>
    <button onclick="getaddress()">我在哪</button>
  </p>
  <div id="out"></div>

</body>
<script>
  var latitude;
  var longitude;
  function getaddress(){
    var out = document.getElementById('out');
    if(!navigator.geolocation){
      out.innerHTML = '您的浏览器不支持获取地理位置';
      return;
    }

    function success(position){
      latitude = position.coords.latitude;
      longitude = position.coords.longitude;
      out.innerHTML = '<p>你的纬度：' + latitude + '<br>你的经度：' + longitude;
    }

    function error(){
      out.innerHTML = '无法获取当前位置';
    }
    out.innerHTML = '<p>loading...</p>'
    navigator.geolocation.getCurrentPosition(success, error);
  }
</script>

</html>

