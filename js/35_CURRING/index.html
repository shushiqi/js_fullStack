<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    // function add(x, y, z) {
    //   return x + y + z
    // }

    // function add1(x) {
    //   return function (y) {
    //     return function (z) {
    //       return x + y + z
    //     }
    //   }
    // }
    // add(1, 2, 3)
    // console.log(add1(1)(2)(3));

    // stage 1
    // function curry(fn) {
    //   var args = Array.prototype.slice.call(arguments, 1)
    //   return function () {
    //     var newArgs = args.concat(Array.prototype.slice.call(arguments))
    //     return fn.apply(this, newArgs)
    //   }
    // }
    // function mulitFn(a, b, c) {
    //   return a * b * c
    // }
    // var mulit = curry(mulitFn)
    // console.log(mulit(2, 3, 4))

    // stage 2
    // function curry(fn, args) {
    //   var length = fn.length
    //   var args = args || []
    //   return function () {
    //     var newArgs = args.concat(Array.prototype.slice.call(arguments))
    //     if (newArgs.length < length) {
    //       return curry.call(this, fn, newArgs)
    //     } else {
    //       return fn.apply(this, newArgs)
    //     }
    //   }
    // }

    // function mulitFn(a, b, c) {
    //   return a * b * c
    // }
    // var mulit = curry(mulitFn)
    // console.log(mulit(2)(3)(4))

    // stage 3
    function mulit() {
      var args = Array.prototype.slice.call(arguments)
      var fn = function () {
        var newArgs = args.concat(Array.prototype.slice.call(arguments))
        return mulit.apply(this, newArgs)
      }
      fn.toString = function () {
        return args.reduce(function (a, b) {
          return a * b
        })
      }
      return fn
    }
    console.log(mulit(2)(3)(4)(5)(6))
  </script>
</body>

</html>